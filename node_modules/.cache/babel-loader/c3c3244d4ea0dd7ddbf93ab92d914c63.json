{"ast":null,"code":"var _jsxFileName = \"/home/javi/Escritorio/LPRO/react-app/src/App.js\";\nimport React, { Component } from 'react';\nimport { Map, GoogleApiWrapper, InfoWindow, Marker } from 'google-maps-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst mapStyles = {\n  width: '100%',\n  height: '100%'\n};\nexport class MapContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showingInfoWindow: false,\n      // Hides or shows the InfoWindow\n      activeMarker: {},\n      // Shows the active marker upon click\n      selectedPlace: {},\n      // Shows the InfoWindow to the selected place upon a marker\n      nodosAnimais: {}\n    };\n\n    this.onMarkerClick = (props, marker, e) => this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true\n    });\n\n    this.onClose = props => {\n      if (this.state.showingInfoWindow) {\n        this.setState({\n          showingInfoWindow: false,\n          activeMarker: null\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        title: 'React POST Request'\n      })\n    };\n    fetch('http://localhost:9000/users/listarGateways', requestOptions).then(res => res.json()).then(nodosAnimais => this.setState({\n      nodosAnimais\n    }, () => console.log('Animais obtidos: ', nodosAnimais)));\n    console.log(\"Tamaño: \", this.state.nodosAnimais.length);\n\n    for (var i = 0; i < this.state.nodosAnimais.length; i++) {\n      var nombreAnimal = this.state.nodosAnimais.msg[i].AnimalID;\n      console.log(nombreAnimal);\n\n      if (nombreAnimal.includes(\"Vaca\")) {\n        console.log(\"Ganado detectado: \", nombreAnimal);\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Map, {\n      google: this.props.google,\n      zoom: 16,\n      style: mapStyles,\n      initialCenter: {\n        lat: 42.16983474239765,\n        lng: -8.68245011564502\n      },\n      children: [/*#__PURE__*/_jsxDEV(Marker, {\n        onClick: this.onMarkerClick,\n        title: 'Gateway 1 LUADA - Rotonda',\n        name: 'Gateway1',\n        position: {\n          lat: 42.17242766052489,\n          lng: -8.676862545159361\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        onClick: this.onMarkerClick,\n        title: 'Gateway 2 LUADA - Deportes',\n        name: 'Gateway2',\n        position: {\n          lat: 42.17284113386385,\n          lng: -8.683870620349603\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        onClick: this.onMarkerClick,\n        title: 'Gateway 3 LUADA - CITEXVI',\n        name: 'Gateway3',\n        position: {\n          lat: 42.16733853541521,\n          lng: -8.682424371415232\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        onClick: this.onMarkerClick,\n        title: 'Gateway 4 LUADA - Teleco',\n        name: 'Gateway4',\n        position: {\n          lat: 42.1700644489694,\n          lng: -8.688578430207395\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(InfoWindow, {\n        marker: this.state.activeMarker,\n        visible: this.state.showingInfoWindow,\n        onClose: this.onClose,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: this.state.selectedPlace.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyDls96qjhZ2UgqWq8H8xDSjfDKAjqhZPXM'\n})(MapContainer);","map":{"version":3,"sources":["/home/javi/Escritorio/LPRO/react-app/src/App.js"],"names":["React","Component","Map","GoogleApiWrapper","InfoWindow","Marker","mapStyles","width","height","MapContainer","state","showingInfoWindow","activeMarker","selectedPlace","nodosAnimais","onMarkerClick","props","marker","e","setState","onClose","componentDidMount","requestOptions","method","headers","body","JSON","stringify","title","fetch","then","res","json","console","log","length","i","nombreAnimal","msg","AnimalID","includes","render","google","lat","lng","name","apiKey"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Map, GoogleApiWrapper, InfoWindow, Marker } from 'google-maps-react';\n\nconst mapStyles = {\n  width: '100%',\n  height: '100%'\n};\n\nexport class MapContainer extends Component {\n\n  state = {\n    showingInfoWindow: false,  // Hides or shows the InfoWindow\n    activeMarker: {},          // Shows the active marker upon click\n    selectedPlace: {},          // Shows the InfoWindow to the selected place upon a marker\n    nodosAnimais: {}\n  };\n\n  onMarkerClick = (props, marker, e) =>\n    this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true\n    });\n\n  onClose = props => {\n    if (this.state.showingInfoWindow) {\n      this.setState({\n        showingInfoWindow: false,\n        activeMarker: null\n      });\n    }\n  };\n\n  componentDidMount() {\n\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ title: 'React POST Request' })\n    };\n\n    fetch('http://localhost:9000/users/listarGateways', requestOptions)\n        .then(res => res.json())\n        .then(nodosAnimais => this.setState({nodosAnimais}, () => console.log('Animais obtidos: ', nodosAnimais)));\n\n    console.log(\"Tamaño: \",this.state.nodosAnimais.length);\n    \n    for(var i = 0; i < this.state.nodosAnimais.length; i++){\n      var nombreAnimal = this.state.nodosAnimais.msg[i].AnimalID;\n      console.log(nombreAnimal);\n      if(nombreAnimal.includes(\"Vaca\")){\n        console.log(\"Ganado detectado: \", nombreAnimal);\n      }\n    }\n\n  }\n\n  render() {\n    return (\n      <Map\n        google={this.props.google}\n        zoom={16}\n        style={mapStyles}\n        initialCenter={\n          {\n            lat: 42.16983474239765,\n            lng: -8.68245011564502\n          }\n        }\n      >\n      <Marker\n          onClick={this.onMarkerClick}\n          title={'Gateway 1 LUADA - Rotonda'}\n          name={'Gateway1'}\n          position={{lat: 42.17242766052489, lng: -8.676862545159361}}\n      />\n      <Marker\n          onClick={this.onMarkerClick}\n          title={'Gateway 2 LUADA - Deportes'}\n          name={'Gateway2'}\n          position={{lat: 42.17284113386385, lng: -8.683870620349603}} \n      />\n      <Marker\n          onClick={this.onMarkerClick}\n          title={'Gateway 3 LUADA - CITEXVI'}\n          name={'Gateway3'}\n          position={{lat: 42.16733853541521, lng: -8.682424371415232}} \n      />\n      <Marker\n          onClick={this.onMarkerClick}\n          title={'Gateway 4 LUADA - Teleco'}\n          name={'Gateway4'}\n          position={{lat: 42.1700644489694, lng: -8.688578430207395}} \n      />\n        <InfoWindow\n          marker={this.state.activeMarker}\n          visible={this.state.showingInfoWindow}\n          onClose={this.onClose}\n        >\n          <div>\n            <h4>{this.state.selectedPlace.name}</h4>\n          </div>\n        </InfoWindow>  \n      </Map>\n    );\n  }\n}\n\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyDls96qjhZ2UgqWq8H8xDSjfDKAjqhZPXM'\n})(MapContainer);"]},"metadata":{},"sourceType":"module"}